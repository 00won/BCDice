[[ test ]]
game_system = "ToshiakiHolyGrailWar"
input = "F8+5"
output = "F8+5 ＞ (13D6) ＞ 13[1,1,1,1,1,1,1,1,1,1,1,1,1] ＞ 13"
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ToshiakiHolyGrailWar"
input = "F8"
output = "F8 ＞ (8D6) ＞ 8[1,1,1,1,1,1,1,1] ＞ 8"
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ToshiakiHolyGrailWar"
input = "F8+10 ペナルティなし"
output = "F8+10 ＞ (18D6) ＞ 18[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1] ＞ 18"
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ToshiakiHolyGrailWar"
input = "F8+11 ダイス面数が1減少"
output = "F8+11 ＞ (19D5) ＞ 19[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1] ＞ 19"
rands = [
  { sides = 5, value = 1 },
  { sides = 5, value = 1 },
  { sides = 5, value = 1 },
  { sides = 5, value = 1 },
  { sides = 5, value = 1 },
  { sides = 5, value = 1 },
  { sides = 5, value = 1 },
  { sides = 5, value = 1 },
  { sides = 5, value = 1 },
  { sides = 5, value = 1 },
  { sides = 5, value = 1 },
  { sides = 5, value = 1 },
  { sides = 5, value = 1 },
  { sides = 5, value = 1 },
  { sides = 5, value = 1 },
  { sides = 5, value = 1 },
  { sides = 5, value = 1 },
  { sides = 5, value = 1 },
  { sides = 5, value = 1 },
]

[[ test ]]
game_system = "ToshiakiHolyGrailWar"
input = "F8+20 ダイス面数が2減少"
output = "F8+20 ＞ (28D4) ＞ 28[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1] ＞ 28"
rands = [
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
]

[[ test ]]
game_system = "ToshiakiHolyGrailWar"
input = "F8+29 ダイス面数が2減少"
output = "F8+29 ＞ (37D4) ＞ 37[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1] ＞ 37"
rands = [
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
  { sides = 4, value = 1 },
]

[[ test ]]
game_system = "ToshiakiHolyGrailWar"
input = "F8+30 ダイス面数が3減少"
output = "F8+30 ＞ (38D3) ＞ 38[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1] ＞ 38"
rands = [
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
  { sides = 3, value = 1 },
]

[[ test ]]
game_system = "ToshiakiHolyGrailWar"
input = "F8+5-4"
output = "F8+5-4 ＞ (9D6) ＞ 9[1,1,1,1,1,1,1,1,1] ＞ 9"
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ToshiakiHolyGrailWar"
input = "F8+5-5"
output = "F8+5-5 ＞ (8D7) ＞ 8[1,1,1,1,1,1,1,1] ＞ 8"
rands = [
  { sides = 7, value = 1 },
  { sides = 7, value = 1 },
  { sides = 7, value = 1 },
  { sides = 7, value = 1 },
  { sides = 7, value = 1 },
  { sides = 7, value = 1 },
  { sides = 7, value = 1 },
  { sides = 7, value = 1 },
]


[[ test ]]
game_system = "ToshiakiHolyGrailWar"
input = "F8-5"
output = "F8-5 ＞ (3D7) ＞ 3[1,1,1] ＞ 3"
rands = [
  { sides = 7, value = 1 },
  { sides = 7, value = 1 },
  { sides = 7, value = 1 },
]

[[ test ]]
game_system = "ToshiakiHolyGrailWar"
input = "F8+11-5"
output = "F8+11-5 ＞ (14D6) ＞ 14[1,1,1,1,1,1,1,1,1,1,1,1,1,1] ＞ 14"
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ToshiakiHolyGrailWar"
input = "F8+6+5-3-2 補正が分割されている"
output = "F8+6+5-3-2 ＞ (14D6) ＞ 14[1,1,1,1,1,1,1,1,1,1,1,1,1,1] ＞ 14"
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ToshiakiHolyGrailWar"
input = "F8+5@3"
output = "F8+5@3 ＞ (13D9) ＞ 13[1,1,1,1,1,1,1,1,1,1,1,1,1] ＞ 13"
rands = [
  { sides = 9, value = 1 },
  { sides = 9, value = 1 },
  { sides = 9, value = 1 },
  { sides = 9, value = 1 },
  { sides = 9, value = 1 },
  { sides = 9, value = 1 },
  { sides = 9, value = 1 },
  { sides = 9, value = 1 },
  { sides = 9, value = 1 },
  { sides = 9, value = 1 },
  { sides = 9, value = 1 },
  { sides = 9, value = 1 },
  { sides = 9, value = 1 },
]

[[ test ]]
game_system = "ToshiakiHolyGrailWar"
input = "F8+11-3@3"
output = "F8+11-3@3 ＞ (16D8) ＞ 16[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1] ＞ 16"
rands = [
  { sides = 8, value = 1 },
  { sides = 8, value = 1 },
  { sides = 8, value = 1 },
  { sides = 8, value = 1 },
  { sides = 8, value = 1 },
  { sides = 8, value = 1 },
  { sides = 8, value = 1 },
  { sides = 8, value = 1 },
  { sides = 8, value = 1 },
  { sides = 8, value = 1 },
  { sides = 8, value = 1 },
  { sides = 8, value = 1 },
  { sides = 8, value = 1 },
  { sides = 8, value = 1 },
  { sides = 8, value = 1 },
  { sides = 8, value = 1 },
]

[[ test ]]
game_system = "ToshiakiHolyGrailWar"
input = "F8+50 ダイスの面数は最低でも2"
output = "F8+50 ＞ (58D2) ＞ 58[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1] ＞ 58"
rands = [
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
  { sides = 2, value = 1 },
]

[[ test ]]
game_system = "ToshiakiHolyGrailWar"
input = "F1+1@20 ダイスの面数は最大でも10"
output = "F1+1@20 ＞ (2D10) ＞ 20[10,10] ＞ 20"
rands = [
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
]

[[ test ]]
game_system = "ToshiakiHolyGrailWar"
input = "F8+5>=10"
output = "F8+5>=10 ＞ (13D6>=10) ＞ 13[1,1,1,1,1,1,1,1,1,1,1,1,1] ＞ 13 ＞ 成功"
success = true
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ToshiakiHolyGrailWar"
input = "F8+5>=14"
output = "F8+5>=14 ＞ (13D6>=14) ＞ 13[1,1,1,1,1,1,1,1,1,1,1,1,1] ＞ 13 ＞ 失敗"
failure = true
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ToshiakiHolyGrailWar"
input = "F8-10"
output = "F8-10 ＞ (0D7) ＞ 0[] ＞ 0"
rands = []

[[ test ]]
game_system = "ToshiakiHolyGrailWar"
input = "F8+5-5+6 不正"
output = ""
rands = []
