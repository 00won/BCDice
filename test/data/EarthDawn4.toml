[[ test ]]
game_system = "EarthDawn4"
input = "4E"
output = "ステップ4 ＞ 1d6[8] ＞ 8"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 2 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "4E6"
output = "ステップ4>=6 ＞ 1d6[5] ＞ 5 ＞ 失敗"
rands = [
  { sides = 6, value = 5 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "4E2"
output = "ステップ4>=2 ＞ 1d6[5] ＞ 5 ＞ 成功 レベル：1"
rands = [
  { sides = 6, value = 5 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "4E2"
output = "ステップ4>=2 ＞ 1d6[7] ＞ 7 ＞ 成功 レベル：2"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "6E2"
output = "ステップ6>=2 ＞ 1d10[7] ＞ 7 ＞ 成功 レベル：2"
rands = [
  { sides = 10, value = 7 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "7E1"
output = "ステップ7>=1 ＞ 1d12[10] ＞ 10 ＞ 成功 レベル：2"
rands = [
  { sides = 12, value = 10 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "7E1"
output = "ステップ7>=1 ＞ 1d12[11] ＞ 11 ＞ 成功 レベル：3"
rands = [
  { sides = 12, value = 11 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "8E2"
output = "ステップ8>=2 ＞ 2d6[5,11] ＞ 16 ＞ 成功 レベル：3"
rands = [
  { sides = 6, value = 5 },
  { sides = 6, value = 6 },
  { sides = 6, value = 5 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "9E2"
output = "ステップ9>=2 ＞ 1d8[7]+1d6[10] ＞ 17 ＞ 成功 レベル：4"
rands = [
  { sides = 8, value = 7 },
  { sides = 6, value = 6 },
  { sides = 6, value = 4 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "10E2"
output = "ステップ10>=2 ＞ 2d8[5,5] ＞ 10 ＞ 成功 レベル：2"
rands = [
  { sides = 8, value = 5 },
  { sides = 8, value = 5 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "11E2"
output = "ステップ11>=2 ＞ 1d10[5]+1d8[5] ＞ 10 ＞ 成功 レベル：2"
rands = [
  { sides = 10, value = 5 },
  { sides = 8, value = 5 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "12E2"
output = "ステップ12>=2 ＞ 2d10[5,5] ＞ 10 ＞ 成功 レベル：2"
rands = [
  { sides = 10, value = 5 },
  { sides = 10, value = 5 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "13E2"
output = "ステップ13>=2 ＞ 1d12[5]+1d10[5] ＞ 10 ＞ 成功 レベル：2"
rands = [
  { sides = 12, value = 5 },
  { sides = 10, value = 5 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "14E2"
output = "ステップ14>=2 ＞ 2d12[5,5] ＞ 10 ＞ 成功 レベル：2"
rands = [
  { sides = 12, value = 5 },
  { sides = 12, value = 5 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "15E2"
output = "ステップ15>=2 ＞ 1d12[5]+2d6[5,5] ＞ 15 ＞ 成功 レベル：3"
rands = [
  { sides = 12, value = 5 },
  { sides = 6, value = 5 },
  { sides = 6, value = 5 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "16E2"
output = "ステップ16>=2 ＞ 1d12[5]+1d8[2]+1d6[5] ＞ 12 ＞ 成功 レベル：3"
rands = [
  { sides = 12, value = 5 },
  { sides = 8, value = 2 },
  { sides = 6, value = 5 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "17E2"
output = "ステップ17>=2 ＞ 1d12[5]+2d8[5,5] ＞ 15 ＞ 成功 レベル：3"
rands = [
  { sides = 12, value = 5 },
  { sides = 8, value = 5 },
  { sides = 8, value = 5 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "18E2"
output = "ステップ18>=2 ＞ 1d12[11]+1d10[9]+1d8[7] ＞ 27 ＞ 成功 レベル：6"
rands = [
  { sides = 12, value = 11 },
  { sides = 10, value = 9 },
  { sides = 8, value = 7 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "19E2"
output = "ステップ19>=2 ＞ 1d20[2]+2d6[2,2] ＞ 6 ＞ 成功 レベル：1"
rands = [
  { sides = 20, value = 2 },
  { sides = 6, value = 2 },
  { sides = 6, value = 2 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "20E2"
output = "ステップ20>=2 ＞ 1d20[2]+1d8[2]+1d6[2] ＞ 6 ＞ 成功 レベル：1"
rands = [
  { sides = 20, value = 2 },
  { sides = 8, value = 2 },
  { sides = 6, value = 2 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "30E2"
output = "ステップ30>=2 ＞ 2d20[2,2]+2d6[2,2] ＞ 8 ＞ 成功 レベル：2"
rands = [
  { sides = 20, value = 2 },
  { sides = 20, value = 2 },
  { sides = 6, value = 2 },
  { sides = 6, value = 2 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "40E2"
output = "ステップ40>=2 ＞ 2d20[2,2]+1d12[2]+1d10[2]+1d8[2] ＞ 10 ＞ 成功 レベル：2"
rands = [
  { sides = 20, value = 2 },
  { sides = 20, value = 2 },
  { sides = 12, value = 2 },
  { sides = 10, value = 2 },
  { sides = 8, value = 2 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "40E3"
output = "ステップ40>=3 ＞ 2d20[1,1]+1d12[1]+1d10[1]+1d8[1] ＞ 5 ＞ 自動失敗"
rands = [
  { sides = 20, value = 1 },
  { sides = 20, value = 1 },
  { sides = 12, value = 1 },
  { sides = 10, value = 1 },
  { sides = 8, value = 1 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "40E4"
output = "ステップ40>=4 ＞ 2d20[2,1]+1d12[1]+1d10[1]+1d8[1] ＞ 6 ＞ 成功 レベル：1"
rands = [
  { sides = 20, value = 2 },
  { sides = 20, value = 1 },
  { sides = 12, value = 1 },
  { sides = 10, value = 1 },
  { sides = 8, value = 1 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "14E10"
output = "ステップ14>=10 ＞ 2d12[1,1] ＞ 2 ＞ 自動失敗"
rands = [
  { sides = 12, value = 1 },
  { sides = 12, value = 1 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "14E10"
output = "ステップ14>=10 ＞ 2d12[1,1] ＞ 2 ＞ 自動失敗"
rands = [
  { sides = 12, value = 1 },
  { sides = 12, value = 1 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "10E"
output = "ステップ10 ＞ 2d8[2,2] ＞ 4"
rands = [
  { sides = 8, value = 2 },
  { sides = 8, value = 2 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "10E8"
output = "ステップ10>=8 ＞ 2d8[2,2] ＞ 4 ＞ 失敗"
rands = [
  { sides = 8, value = 2 },
  { sides = 8, value = 2 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "10E8+1"
output = "ステップ10>=8 ＞ 2d8[2,2]+1 ＞ 5 ＞ 失敗"
rands = [
  { sides = 8, value = 2 },
  { sides = 8, value = 2 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "10E8K"
output = "ステップ10>=8 ＞ 2d8[2,3]+1d6[3] ＞ 8 ＞ 成功 レベル：1"
rands = [
  { sides = 8, value = 2 },
  { sides = 8, value = 3 },
  { sides = 6, value = 3 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "10E8k+1"
output = "ステップ10>=8 ＞ 2d8[2,3]+1d6[3]+1 ＞ 9 ＞ 成功 レベル：1"
rands = [
  { sides = 8, value = 2 },
  { sides = 8, value = 3 },
  { sides = 6, value = 3 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "10Ek"
output = "ステップ10 ＞ 2d8[2,3]+1d6[3] ＞ 8"
rands = [
  { sides = 8, value = 2 },
  { sides = 8, value = 3 },
  { sides = 6, value = 3 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "10Ek+1"
output = "ステップ10 ＞ 2d8[2,3]+1d6[3]+1 ＞ 9"
rands = [
  { sides = 8, value = 2 },
  { sides = 8, value = 3 },
  { sides = 6, value = 3 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "10Ek+4E"
output = "ステップ10+ステップ4 ＞ (2d8[2,3]+1d6[3])+(1d6[8]) ＞ (8+8) ＞ 16"
rands = [
  { sides = 8, value = 2 },
  { sides = 8, value = 3 },
  { sides = 6, value = 3 },
  { sides = 6, value = 6 },
  { sides = 6, value = 2 },
]

[[ test ]]
game_system = "EarthDawn4"
input = "10E16k+4E"
output = "ステップ10+ステップ4>=16 ＞ (2d8[2,3]+1d6[3])+(1d6[8]) ＞ (8+8) ＞ 16 ＞ 成功 レベル：1"
rands = [
  { sides = 8, value = 2 },
  { sides = 8, value = 3 },
  { sides = 6, value = 3 },
  { sides = 6, value = 6 },
  { sides = 6, value = 2 },
]
